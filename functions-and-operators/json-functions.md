---
title: JSON Functions
summary: Learn about JSON functions.
---

# JSON関数 {#json-functions}

TiDB は、 MySQL 5.7の GA リリースに同梱されている JSON関数のほとんどをサポートしています。

## JSON値を作成する関数 {#functions-that-create-json-values}

| 関数名                                                                                                                                                                                                                                      | 説明                                                      |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------- |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-creation-functions.html#function_json-array">JSON_ARRAY([val[, val] ...])</a>](https://dev.mysql.com/doc/refman/5.7/en/json-creation-functions.html#function_json-array)          | (空の可能性がある) 値のリストを評価し、それらの値を含む JSON 配列を返します。             |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-creation-functions.html#function_json-object">JSON_OBJECT(キー, val[, キー, val] ...)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-creation-functions.html#function_json-object) | キーと値のペアの (空の可能性がある) リストを評価し、それらのペアを含む JSON オブジェクトを返します。 |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-creation-functions.html#function_json-quote">JSON_QUOTE(文字列)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-creation-functions.html#function_json-quote)                       | 文字列を引用符付きの JSON 値として返します                                |

## JSON値を検索する関数 {#functions-that-search-json-values}

| 関数名                                                                                                                                                                                                                                                                       | 説明                                                                                        |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------- |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#function_json-contains">JSON_CONTAINS(ターゲット, 候補[, パス])</a>](https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#function_json-contains)                                       | 1 または 0 を返すことで、指定された候補 JSON ドキュメントがターゲット JSON ドキュメント内に含まれるかどうかを示します。                      |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#function_json-contains-path">JSON_CONTAINS_PATH(json_doc, one_or_all, path[, path] ...)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#function_json-contains-path) | 0 または 1 を返し、JSON ドキュメントに指定されたパスのデータが含まれているかどうかを示します。                                      |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#function_json-extract">JSON_EXTRACT(json_doc, パス[, パス] ...)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#function_json-extract)                                   | `path`の引数に一致するドキュメントの部分から選択された JSON ドキュメントからデータを返します。                                     |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#operator_json-column-path">-&gt;</a>](https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#operator_json-column-path)                                                          | 評価パスの後の JSON 列から値を返します。 `JSON_EXTRACT(doc, path_literal)`のエイリアス                           |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#operator_json-inline-path">-&gt;&gt;</a>](https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#operator_json-inline-path)                                                      | パスを評価し、結果の引用符を外した後の JSON 列から値を返します。 `JSON_UNQUOTE(JSON_EXTRACT(doc, path_literal))`のエイリアス |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#function_json-keys">JSON_KEYS(json_doc[, パス])</a>](https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#function_json-keys)                                                    | JSON オブジェクトのトップレベルの値からキーを JSON 配列として返します。パス引数が指定されている場合は、選択したパスからのトップレベルのキーを返します。         |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#function_json-search">JSON_SEARCH(json_doc, one_or_all, search_str[,scape_char[, path] ...])</a>](https://dev.mysql.com/doc/refman/5.7/en/json-search-functions.html#function_json-search)   | JSON ドキュメント内で文字列の 1 つまたはすべての一致を検索します。                                                     |
| [<a href="https://dev.mysql.com/doc/refman/8.0/en/json-search-functions.html#operator_member-of">値のメンバー(json_array)</a>](https://dev.mysql.com/doc/refman/8.0/en/json-search-functions.html#operator_member-of)                                                           | 渡された値が JSON 配列の要素である場合は 1 を返します。それ以外の場合は 0 を返します。                                         |
| [<a href="https://dev.mysql.com/doc/refman/8.0/en/json-search-functions.html#function_json-overlaps">JSON_OVERLAPS(json_doc1, json_doc2)</a>](https://dev.mysql.com/doc/refman/8.0/en/json-search-functions.html#function_json-overlaps)                                  | 2 つの JSON ドキュメントに重複部分があるかどうかを示します。はいの場合は 1 を返します。そうでない場合は 0 を返します。                        |

## JSON値を変更する関数 {#functions-that-modify-json-values}

| 関数名                                                                                                                                                                                                                                                                                  | 説明                                     |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | -------------------------------------- |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-append">JSON_APPEND(json_doc, パス, 値)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-append)                                            | `JSON_ARRAY_APPEND`のエイリアス              |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-array-append">JSON_ARRAY_APPEND(json_doc, パス, 値)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-array-append)                          | 指定されたパスにある JSON 配列の末尾に値を追加します          |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-array-insert">JSON_ARRAY_INSERT(json_doc, パス, val[, パス, val] ...)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-array-insert)         | json ドキュメントに配列を挿入し、変更されたドキュメントを返します。   |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-insert">JSON_INSERT(json_doc, パス, val[, パス, val] ...)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-insert)                           | JSON ドキュメントにデータを挿入し、結果を返します。           |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-merge">JSON_MERGE(json_doc, json_doc[, json_doc] ...)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-merge)                            | `JSON_MERGE_PRESERVE`の非推奨のエイリアス        |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-merge-patch">JSON_MERGE_PATCH(json_doc, json_doc[, json_doc] ...)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-merge-patch)          | JSONドキュメントを結合する                        |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-merge-preserve">JSON_MERGE_PRESERVE(json_doc, json_doc[, json_doc] ...)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-merge-preserve) | 2 つ以上の JSON ドキュメントをマージし、マージされた結果を返します。 |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-remove">JSON_REMOVE(json_doc, パス[, パス] ...)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-remove)                                     | JSON ドキュメントからデータを削除し、結果を返します。          |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-replace">JSON_REPLACE(json_doc, パス, val[, パス, val] ...)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-replace)                        | JSON ドキュメント内の既存の値を置き換えて結果を返します         |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-set">JSON_SET(json_doc, パス, val[, パス, val] ...)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-set)                                    | JSON ドキュメントにデータを挿入または更新し、結果を返します。      |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-unquote">JSON_UNQUOTE(json_val)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-unquote)                                                | JSON 値の引用符を外し、結果を文字列として返します。           |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-array-append">JSON_ARRAY_APPEND(json_doc, パス, val[, パス, val] ...)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-array-append)         | JSON ドキュメント内の指定された配列の末尾に値を追加し、結果を返します。 |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-array-insert">JSON_ARRAY_INSERT(json_doc, パス, val[, パス, val] ...)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-modification-functions.html#function_json-array-insert)         | JSON ドキュメントの指定された場所に値を挿入し、結果を返します。     |

## JSON 値属性を返す関数 {#functions-that-return-json-value-attributes}

| 関数名                                                                                                                                                                                                                                | 説明                                                              |
| ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------- |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-attribute-functions.html#function_json-depth">JSON_DEPTH(json_doc)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-attribute-functions.html#function_json-depth)          | JSONドキュメントの最大の深さを返します。                                          |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-attribute-functions.html#function_json-length">JSON_LENGTH(json_doc[, パス])</a>](https://dev.mysql.com/doc/refman/5.7/en/json-attribute-functions.html#function_json-length) | JSON ドキュメントの長さを返します。パス引数が指定されている場合は、パス内の値の長さを返します。              |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-attribute-functions.html#function_json-type">JSON_TYPE(json_val)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-attribute-functions.html#function_json-type)             | JSON値のタイプを示す文字列を返します。                                           |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-attribute-functions.html#function_json-valid">JSON_VALID(json_doc)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-attribute-functions.html#function_json-valid)          | json_doc が有効な JSON であるかどうかを確認します。 json 型に変換する前に列をチェックするのに役立ちます。 |

## ユーティリティ関数 {#utility-functions}

| 関数名                                                                                                                                                                                                                                        | 説明                                                                                                                                                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-utility-functions.html#function_json-pretty">JSON_PRETTY(json_doc)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-utility-functions.html#function_json-pretty)                   | JSON ドキュメントの整形                                                                                                                                             |
| [<a href="https://dev.mysql.com/doc/refman/8.0/en/json-utility-functions.html#function_json-storage-free">JSON_STORAGE_FREE(json_doc)</a>](https://dev.mysql.com/doc/refman/8.0/en/json-utility-functions.html#function_json-storage-free) | JSON 値が適切に更新された後に、JSON 値のバイナリ表現で解放されたstorageスペースの量を返します。 TiDB は MySQL とは異なるstorageアーキテクチャを備えているため、この関数は有効な JSON 値に対して常に 0 を返し、MySQL 8.0 との互換性のために実装されています。 |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-utility-functions.html#function_json-storage-size">JSON_STORAGE_SIZE(json_doc)</a>](https://dev.mysql.com/doc/refman/5.7/en/json-utility-functions.html#function_json-storage-size) | json 値を保存するために必要なバイトのおおよそのサイズを返します。サイズには圧縮を使用する TiKV が考慮されていないため、この関数の出力は MySQL と厳密には互換性がありません。                                                            |

## 集計関数 {#aggregate-functions}

| 関数名                                                                                                                                                                                                                      | 説明                  |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------- |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/aggregate-functions.html#function_json-arrayagg">JSON_ARRAYAGG(キー)</a>](https://dev.mysql.com/doc/refman/5.7/en/aggregate-functions.html#function_json-arrayagg)       | キーの集合を提供します。        |
| [<a href="https://dev.mysql.com/doc/refman/5.7/en/aggregate-functions.html#function_json-objectagg">JSON_OBJECTAGG(キー, 値)</a>](https://dev.mysql.com/doc/refman/5.7/en/aggregate-functions.html#function_json-objectagg) | 指定されたキーの値の集計を提供します。 |

## こちらも参照 {#see-also}

-   [<a href="https://dev.mysql.com/doc/refman/5.7/en/json-function-reference.html">JSON関数リファレンス</a>](https://dev.mysql.com/doc/refman/5.7/en/json-function-reference.html)
-   [<a href="/data-type-json.md">JSON データ型</a>](/data-type-json.md)

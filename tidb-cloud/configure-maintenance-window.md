---
title: Configure Maintenance Window
summary: Learn how to configure maintenance window for your cluster.
---

# メンテナンス ウィンドウの構成 {#configure-maintenance-window}

メンテナンス ウィンドウは、 TiDB Cloudサービスの信頼性、セキュリティ、およびパフォーマンスを確保するために、オペレーティング システムの更新、セキュリティ パッチ、インフラストラクチャのアップグレードなどの計画されたメンテナンス アクティビティが自動的に実行される指定された時間枠です。

メンテナンス期間中、メンテナンスは TiDB クラスターで 1 つずつ実行されるため、全体的な影響は最小限に抑えられます。一時的な接続の中断や QPS の変動が発生する可能性がありますが、クラスターは引き続き使用可能であり、既存のデータのインポート、バックアップ、復元、移行、およびレプリケーション タスクは引き続き正常に実行できます。

メンテナンス ウィンドウを構成することにより、メンテナンス アクティビティを簡単にスケジュールおよび管理して、メンテナンスへの影響を最小限に抑えることができます。たとえば、メンテナンス ウィンドウの開始時刻を設定して、アプリケーション ワークロードのピーク時間を回避できます。

> **ノート：**
>
> メンテナンス ウィンドウ機能は[Dedicated Tierクラスター](/tidb-cloud/select-cluster-tier.md#dedicated-tier)でのみ使用できます。

## メンテナンス期間中に許可される操作と許可されない操作 {#allowed-and-disallowed-operations-during-a-maintenance-window}

メンテナンス期間中は、許可される操作と許可されない操作があります。

-   許可された操作:

    -   SQL 操作
    -   クラスターを作成する
    -   クラスターを削除する
    -   バックアップ タスクの作成
    -   クラスターを復元する
    -   クラスタ ページへのアクセス

-   許可されていない操作:

    -   クラスターの変更、一時停止、または再開
    -   TiDB Cloudコンソールでセキュリティ設定を変更する
    -   プライベート リンクを作成するか、VPC ピアリングを構成する
    -   インポート タスク、移行ジョブ、または変更フィードを作成する
    -   移行ジョブまたは変更フィードのスケーリング仕様

## メンテナンス アクティビティの通知を受け取る {#get-notifications-for-maintenance-activities}

潜在的な混乱を避けるために、メンテナンス スケジュールを認識し、それに応じて操作を計画することが重要です。

メンテナンス期間ごとに、 TiDB Cloud は次の時点ですべてのプロジェクト メンバーに 3 つの電子メール通知を送信します。

-   メンテナンス ウィンドウが開始する 72 時間前
-   メンテナンスウィンドウが開始される時刻
-   メンテナンスウィンドウが完了する時間

## メンテナンス ウィンドウのビューと構成 {#view-and-configure-maintenance-windows}

定期的なメンテナンスにより、 TiDB Cloud をセキュリティの脅威、パフォーマンスの問題、および信頼性の低さから保護するために必要な更新が確実に実行されます。したがって、メンテナンス ウィンドウはデフォルトで有効になっており、無効にすることはできません。

メンテナンスウィンドウが計画されている場合、ウィンドウのデフォルトの開始時刻は、対象の週の ( TiDB Cloud組織のタイムゾーンに基づく) 水曜日の 03:00 です。

次のように、開始時刻を希望の時刻に変更するか、締め切りまでメンテナンス アクティビティを延期することができます。

1.  [TiDB Cloudコンソール](https://tidbcloud.com/)で、プロジェクトの[クラスター](https://tidbcloud.com/console/clusters)ページに移動します。

    > **ノート：**
    >
    > 複数のプロジェクトがある場合は、プロジェクト リストを表示し、左上隅の ☰ ホバー メニューから別のプロジェクトに切り替えることができます。

2.  左側のナビゲーション バーで、 <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke-width="1.5" xmlns="http://www.w3.org/2000/svg"><path d="M12 14.5H7.5C6.10444 14.5 5.40665 14.5 4.83886 14.6722C3.56045 15.06 2.56004 16.0605 2.17224 17.3389C2 17.9067 2 18.6044 2 20M14.5 6.5C14.5 8.98528 12.4853 11 10 11C7.51472 11 5.5 8.98528 5.5 6.5C5.5 4.01472 7.51472 2 10 2C12.4853 2 14.5 4.01472 14.5 6.5ZM22 16.516C22 18.7478 19.6576 20.3711 18.8054 20.8878C18.7085 20.9465 18.6601 20.9759 18.5917 20.9911C18.5387 21.003 18.4613 21.003 18.4083 20.9911C18.3399 20.9759 18.2915 20.9465 18.1946 20.8878C17.3424 20.3711 15 18.7478 15 16.516V14.3415C15 13.978 15 13.7962 15.0572 13.6399C15.1077 13.5019 15.1899 13.3788 15.2965 13.2811C15.4172 13.1706 15.5809 13.1068 15.9084 12.9791L18.2542 12C18.3452 11.9646 18.4374 11.8 18.4374 11.8H18.5626C18.5626 11.8 18.6548 11.9646 18.7458 12L21.0916 12.9791C21.4191 13.1068 21.5828 13.1706 21.7035 13.2811C21.8101 13.3788 21.8923 13.5019 21.9428 13.6399C22 13.7962 22 13.978 22 14.3415V16.516Z" stroke="currentColor" stroke-width="inherit" stroke-linecap="round" stroke-linejoin="round"></path></svg>**管理者**。

3.  **[管理]**ページで、左側のナビゲーション ペインの<strong>[メンテナンス]</strong>をクリックします。

    -   メンテナンス作業が表示された場合は、説明、開始予定時刻、期限を確認してください。指定された時刻にメンテナンス活動が開始されます。

    -   メンテナンス データがない場合は、最近メンテナンス アクティビティがスケジュールされていないことを意味します。

4.  (オプション) クリック<svg width="15" height="15" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="mantine-1o1jehl"><path d="M11 3.99998H6.8C5.11984 3.99998 4.27976 3.99998 3.63803 4.32696C3.07354 4.61458 2.6146 5.07353 2.32698 5.63801C2 6.27975 2 7.11983 2 8.79998V17.2C2 18.8801 2 19.7202 2.32698 20.362C2.6146 20.9264 3.07354 21.3854 3.63803 21.673C4.27976 22 5.11984 22 6.8 22H15.2C16.8802 22 17.7202 22 18.362 21.673C18.9265 21.3854 19.3854 20.9264 19.673 20.362C20 19.7202 20 18.8801 20 17.2V13M7.99997 16H9.67452C10.1637 16 10.4083 16 10.6385 15.9447C10.8425 15.8957 11.0376 15.8149 11.2166 15.7053C11.4184 15.5816 11.5914 15.4086 11.9373 15.0627L21.5 5.49998C22.3284 4.67156 22.3284 3.32841 21.5 2.49998C20.6716 1.67156 19.3284 1.67155 18.5 2.49998L8.93723 12.0627C8.59133 12.4086 8.41838 12.5816 8.29469 12.7834C8.18504 12.9624 8.10423 13.1574 8.05523 13.3615C7.99997 13.5917 7.99997 13.8363 7.99997 14.3255V16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>メンテナンス ウィンドウの開始時刻を変更します。メンテナンスは、その週にメンテナンス ウィンドウが計画されている場合にのみ、指定された開始時刻に実行されることに注意してください。

5.  スケジュールされたメンテナンス アクティビティの開始時刻を延期するには、 **[アクション]**列で<strong>[延期] を</strong>クリックし、締め切り前の次の実行可能なメンテナンス ウィンドウに変更します。

    期限を過ぎて保守活動を延期する必要がある場合は、 [TiDB Cloudのサポート](/tidb-cloud/tidb-cloud-support.md#tidb-cloud-support)に連絡して支援を求めてください。

## よくある質問 {#faqs}

-   保守活動とは何ですか？

    通常、メンテナンス作業には、オペレーティング システムの更新、セキュリティ パッチ、およびインフラストラクチャのアップグレードが含まれます。

-   メンテナンスウィンドウを無効にすることはできますか?

    いいえ。メンテナンス ウィンドウはデフォルトで有効になっており、無効にすることはできません。メンテナンス ウィンドウの開始時刻を変更するか、メンテナンス アクティビティを締め切りまで 2 ～ 4 週間延期することができます。詳細については、 [メンテナンス ウィンドウのビューと構成](#view-and-configure-maintenance-windows)を参照してください。

-   メンテナンスウィンドウはどのくらい続きますか?

    場合によります。プロジェクトごとに、対象となる TiDB クラスターで 1 つずつメンテナンスが実行されます。メンテナンスの所要時間は、クラスターの数、クラスターのデータ サイズ、および実行するメンテナンス アクティビティによって異なります。

-   メンテナンス アクティビティは、どのような状態のクラスターでも実行されますか?

    いいえTiDB Cloud は、クラスターでメンテナンス アクティビティを実行する前に、クラスターの状態を確認します。

    -   クラスタが**[作成中**] または<strong>[一時停止]</strong>ステータスにある場合、メンテナンス アクティビティは必要ありません。
    -   クラスターが毎日または手動のバックアップを実行している場合、メンテナンスは延期され、現在のバックアップが正常に完了するまでトリガーされます。データ ボリュームが大きいクラスターの場合、バックアップ プロセスに 12 時間などの長い時間がかかる場合があることに注意してください。クラスターへの影響を最小限に抑えるために、バックアップの開始時刻とメンテナンス ウィンドウを慎重に設定することをお勧めします。
    -   クラスタがその他のステータスの場合、メンテナンス アクティビティはスケジュールどおりに開始されます。
